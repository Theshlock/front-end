{"ast":null,"code":"var _jsxFileName = \"/home/sam/Documents/flipic/front-end/src/components/pages/Quiz/QuizContoller.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Quiz from './Quiz';\nimport Loader from '../../Loader/Loader';\nimport styled from 'styled-components';\nimport theme from '../../Theme/theme';\nimport GetStartedOverlay from '../../getStartedOverlay/GetStartedOverlay';\nimport QuizResult from './QuizResult'; // import mockQuizData from '../../../data/mockQuizData';\n// import result from '../../../data/mockQuizResult';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledPara = styled.p`\n\tmargin-top: 24px;\n\tfont-weight: bold;\n\ttext-align: center;\n`;\n_c = StyledPara;\nconst StyledLoader = styled.div`\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground-color: ${theme.color.background.primary};\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n`;\n_c2 = StyledLoader;\nconst quizResultWrapper = styled.div`\n\tdisplay: flex;\n`;\n\nconst QuizContoller = props => {\n  _s();\n\n  const quizId = props.quizId.match.params.quizId;\n  const [quizInfo, getQuizInfo] = useState(null);\n  useEffect(() => {\n    fetch('http://ec2-54-252-205-131.ap-southeast-2.compute.amazonaws.com//api/quiz/' + quizId).then(response => response.json()).then(data => {\n      console.log(data);\n      getQuizInfo(data);\n    }).catch(error => {\n      console.error('Error:', error);\n    });\n  }, []);\n  const [frontPair, setFront] = useState(null);\n  const [backPair, setBack] = useState(null);\n  useEffect(() => {\n    fetch('http://ec2-54-252-205-131.ap-southeast-2.compute.amazonaws.com//api/quiz-matchup/' + quizId).then(response => response.json()).then(data => {\n      // console.log(data);\n      setFront(data);\n    }).catch(error => {\n      console.error('Error:', error);\n    });\n  }, []);\n  useEffect(() => {\n    fetch('http://ec2-54-252-205-131.ap-southeast-2.compute.amazonaws.com//api/quiz-matchup/' + quizId).then(response => response.json()).then(data => {\n      // console.log(data);\n      setBack(data);\n    }).catch(error => {\n      console.error('Error:', error);\n    });\n  }, []);\n  const [welcomed, setWelcomed] = useState(false);\n\n  const handleWelcomed = () => {\n    setWelcomed(true);\n  };\n\n  const [quizDone, setDone] = useState(false);\n  const [quizResult, getQuizResult] = useState(null);\n  useEffect(() => {\n    fetch('http://ec2-54-252-205-131.ap-southeast-2.compute.amazonaws.com//api/quiz-results/' + quizId).then(response => response.json()).then(data => {\n      // console.log(data);\n      getQuizResult(data);\n    }).catch(error => {\n      console.error('Error:', error);\n    });\n  }, [quizDone]);\n  const [showResult, setShowResult] = useState(false);\n\n  if (!quizDone) {\n    if (quizInfo !== null && frontPair !== null && backPair !== null) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Quiz, {\n          quizInfo: quizInfo,\n          frontPair: frontPair,\n          backPair: backPair,\n          setFront: setFront,\n          setBack: setBack,\n          setDone: setDone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 6\n        }, this), welcomed ? null : /*#__PURE__*/_jsxDEV(GetStartedOverlay, {\n          handleWelcomed: handleWelcomed,\n          author: 'quizMakerhasaverylongname'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true);\n    } else {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(StyledLoader, {\n          children: [/*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(StyledPara, {\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 6\n        }, this)\n      }, void 0, false); // console.log(result.data)\n      // return (\n      // \t<p>quiz done</p>\n      // );\n    }\n\n    ;\n  } else {\n    setTimeout(() => setShowResult(true), 1500);\n\n    if (quizResult === null || !showResult) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(StyledLoader, {\n          children: [/*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(StyledPara, {\n            children: \"Thank you for taking the quiz!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(StyledPara, {\n            children: \"Loading quiz results...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 6\n        }, this)\n      }, void 0, false);\n    } else {\n      if (quizResult.data !== null) {\n        return /*#__PURE__*/_jsxDEV(QuizResult, {\n          result: quizResult\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 12\n        }, this);\n      }\n    }\n  }\n};\n\n_s(QuizContoller, \"0ILzFI4NE35YuKQjxr6lNpgeLvM=\");\n\n_c3 = QuizContoller;\nexport default QuizContoller;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"StyledPara\");\n$RefreshReg$(_c2, \"StyledLoader\");\n$RefreshReg$(_c3, \"QuizContoller\");","map":{"version":3,"sources":["/home/sam/Documents/flipic/front-end/src/components/pages/Quiz/QuizContoller.js"],"names":["React","useEffect","useState","Quiz","Loader","styled","theme","GetStartedOverlay","QuizResult","StyledPara","p","StyledLoader","div","color","background","primary","quizResultWrapper","QuizContoller","props","quizId","match","params","quizInfo","getQuizInfo","fetch","then","response","json","data","console","log","catch","error","frontPair","setFront","backPair","setBack","welcomed","setWelcomed","handleWelcomed","quizDone","setDone","quizResult","getQuizResult","showResult","setShowResult","setTimeout"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,iBAAP,MAA8B,2CAA9B;AACA,OAAOC,UAAP,MAAuB,cAAvB,C,CACA;AACA;;;;AAEA,MAAMC,UAAU,GAAGJ,MAAM,CAACK,CAAE;AAC5B;AACA;AACA;AACA,CAJA;KAAMD,U;AAMN,MAAME,YAAY,GAAGN,MAAM,CAACO,GAAI;AAChC;AACA;AACA,qBAAqBN,KAAK,CAACO,KAAN,CAAYC,UAAZ,CAAuBC,OAAQ;AACpD;AACA;AACA;AACA;AACA,CARA;MAAMJ,Y;AAUN,MAAMK,iBAAiB,GAAGX,MAAM,CAACO,GAAI;AACrC;AACA,CAFA;;AAIA,MAAMK,aAAa,GAAIC,KAAD,IAAW;AAAA;;AAChC,QAAMC,MAAM,GAAGD,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmBC,MAAnB,CAA0BF,MAAzC;AACA,QAAM,CAACG,QAAD,EAAWC,WAAX,IAA0BrB,QAAQ,CAAC,IAAD,CAAxC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACfuB,IAAAA,KAAK,CAAC,8EAA8EL,MAA/E,CAAL,CACMM,IADN,CACWC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADvB,EAEMF,IAFN,CAEWG,IAAI,IAAI;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAL,MAAAA,WAAW,CAACK,IAAD,CAAX;AACK,KALN,EAMMG,KANN,CAMaC,KAAD,IAAW;AAChBH,MAAAA,OAAO,CAACG,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACD,KARN;AASA,GAVQ,EAUN,EAVM,CAAT;AAYA,QAAM,CAACC,SAAD,EAAYC,QAAZ,IAAwBhC,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACiC,QAAD,EAAWC,OAAX,IAAsBlC,QAAQ,CAAC,IAAD,CAApC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACfuB,IAAAA,KAAK,CAAC,sFAAsFL,MAAvF,CAAL,CACMM,IADN,CACWC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADvB,EAEMF,IAFN,CAEWG,IAAI,IAAI;AAClB;AACAM,MAAAA,QAAQ,CAACN,IAAD,CAAR;AACK,KALN,EAMMG,KANN,CAMaC,KAAD,IAAW;AAChBH,MAAAA,OAAO,CAACG,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACD,KARN;AASA,GAVQ,EAUN,EAVM,CAAT;AAYA/B,EAAAA,SAAS,CAAC,MAAM;AACfuB,IAAAA,KAAK,CAAC,sFAAsFL,MAAvF,CAAL,CACMM,IADN,CACWC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADvB,EAEMF,IAFN,CAEWG,IAAI,IAAI;AAClB;AACAQ,MAAAA,OAAO,CAACR,IAAD,CAAP;AACK,KALN,EAMMG,KANN,CAMaC,KAAD,IAAW;AAChBH,MAAAA,OAAO,CAACG,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACD,KARN;AASA,GAVQ,EAUN,EAVM,CAAT;AAYA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BpC,QAAQ,CAAC,KAAD,CAAxC;;AACA,QAAMqC,cAAc,GAAG,MAAM;AAC5BD,IAAAA,WAAW,CAAC,IAAD,CAAX;AACA,GAFD;;AAIA,QAAM,CAACE,QAAD,EAAWC,OAAX,IAAsBvC,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACwC,UAAD,EAAaC,aAAb,IAA8BzC,QAAQ,CAAC,IAAD,CAA5C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACfuB,IAAAA,KAAK,CAAC,sFAAsFL,MAAvF,CAAL,CACMM,IADN,CACWC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADvB,EAEMF,IAFN,CAEWG,IAAI,IAAI;AAClB;AACAe,MAAAA,aAAa,CAACf,IAAD,CAAb;AACK,KALN,EAMMG,KANN,CAMaC,KAAD,IAAW;AAChBH,MAAAA,OAAO,CAACG,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACD,KARN;AASA,GAVQ,EAUN,CAACQ,QAAD,CAVM,CAAT;AAYA,QAAM,CAACI,UAAD,EAAaC,aAAb,IAA8B3C,QAAQ,CAAC,KAAD,CAA5C;;AAGA,MAAI,CAACsC,QAAL,EAAe;AACd,QAAIlB,QAAQ,KAAK,IAAb,IAAqBW,SAAS,KAAK,IAAnC,IAA2CE,QAAQ,KAAK,IAA5D,EAAkE;AACjE,0BACC;AAAA,gCACC,QAAC,IAAD;AACC,UAAA,QAAQ,EAAEb,QADX;AAEC,UAAA,SAAS,EAAEW,SAFZ;AAGC,UAAA,QAAQ,EAAEE,QAHX;AAIC,UAAA,QAAQ,EAAED,QAJX;AAKC,UAAA,OAAO,EAAEE,OALV;AAMC,UAAA,OAAO,EAAEK;AANV;AAAA;AAAA;AAAA;AAAA,gBADD,EASEJ,QAAQ,GAAG,IAAH,gBAAU,QAAC,iBAAD;AAAmB,UAAA,cAAc,EAAEE,cAAnC;AAAmD,UAAA,MAAM,EAAE;AAA3D;AAAA;AAAA;AAAA;AAAA,gBATpB;AAAA,sBADD;AAaA,KAdD,MAcO;AACN,0BACC;AAAA,+BACC,QAAC,YAAD;AAAA,kCACC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD,uBADD,CADM,CASN;AACA;AACA;AACA;AACA;;AAAA;AACD,GA7BD,MA6BK;AACJO,IAAAA,UAAU,CAAC,MAAMD,aAAa,CAAC,IAAD,CAApB,EAA2B,IAA3B,CAAV;;AACA,QAAIH,UAAU,KAAK,IAAf,IAAuB,CAACE,UAA5B,EAAuC;AACtC,0BACC;AAAA,+BACC,QAAC,YAAD;AAAA,kCACC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD,eAGC,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD,uBADD;AASA,KAVD,MAUO;AACN,UAAIF,UAAU,CAACd,IAAX,KAAoB,IAAxB,EAA8B;AAC7B,4BAAO,QAAC,UAAD;AAAY,UAAA,MAAM,EAAEc;AAApB;AAAA;AAAA;AAAA;AAAA,gBAAP;AACA;AACD;AACD;AAED,CAhHD;;GAAMzB,a;;MAAAA,a;AAkHN,eAAeA,aAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Quiz from './Quiz';\nimport Loader from '../../Loader/Loader';\nimport styled from 'styled-components';\nimport theme from '../../Theme/theme';\nimport GetStartedOverlay from '../../getStartedOverlay/GetStartedOverlay';\nimport QuizResult from './QuizResult';\n// import mockQuizData from '../../../data/mockQuizData';\n// import result from '../../../data/mockQuizResult';\n\nconst StyledPara = styled.p`\n\tmargin-top: 24px;\n\tfont-weight: bold;\n\ttext-align: center;\n`;\n\nconst StyledLoader = styled.div`\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground-color: ${theme.color.background.primary};\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n`;\n\nconst quizResultWrapper = styled.div`\n\tdisplay: flex;\n`;\n\nconst QuizContoller = (props) => {\n\tconst quizId = props.quizId.match.params.quizId;\n\tconst [quizInfo, getQuizInfo] = useState(null);\n\tuseEffect(() => {\n\t\tfetch('http://ec2-54-252-205-131.ap-southeast-2.compute.amazonaws.com//api/quiz/' + quizId)\n\t      .then(response => response.json())\n\t      .then(data => {\n\t\t\tconsole.log(data);\n\t\t\tgetQuizInfo(data);\n\t      })\n\t      .catch((error) => {\n\t        console.error('Error:', error);\n\t      });\n\t}, []);\n\n\tconst [frontPair, setFront] = useState(null);\n\tconst [backPair, setBack] = useState(null);\n\tuseEffect(() => {\n\t\tfetch('http://ec2-54-252-205-131.ap-southeast-2.compute.amazonaws.com//api/quiz-matchup/' + quizId)\n\t      .then(response => response.json())\n\t      .then(data => {\n\t\t\t// console.log(data);\n\t\t\tsetFront(data);\n\t      })\n\t      .catch((error) => {\n\t        console.error('Error:', error);\n\t      });\n\t}, []);\n\n\tuseEffect(() => {\n\t\tfetch('http://ec2-54-252-205-131.ap-southeast-2.compute.amazonaws.com//api/quiz-matchup/' + quizId)\n\t      .then(response => response.json())\n\t      .then(data => {\n\t\t\t// console.log(data);\n\t\t\tsetBack(data);\n\t      })\n\t      .catch((error) => {\n\t        console.error('Error:', error);\n\t      });\n\t}, []);\n\n\tconst [welcomed, setWelcomed] = useState(false);\n\tconst handleWelcomed = () => {\n\t\tsetWelcomed(true);\n\t}\n\n\tconst [quizDone, setDone] = useState(false);\n\tconst [quizResult, getQuizResult] = useState(null);\n\n\tuseEffect(() => {\n\t\tfetch('http://ec2-54-252-205-131.ap-southeast-2.compute.amazonaws.com//api/quiz-results/' + quizId)\n\t      .then(response => response.json())\n\t      .then(data => {\n\t\t\t// console.log(data);\n\t\t\tgetQuizResult(data);\n\t      })\n\t      .catch((error) => {\n\t        console.error('Error:', error);\n\t      });\n\t}, [quizDone]);\n\n\tconst [showResult, setShowResult] = useState(false);\n\n\n\tif (!quizDone) {\n\t\tif (quizInfo !== null && frontPair !== null && backPair !== null) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Quiz \n\t\t\t\t\t\tquizInfo={quizInfo} \n\t\t\t\t\t\tfrontPair={frontPair} \n\t\t\t\t\t\tbackPair={backPair} \n\t\t\t\t\t\tsetFront={setFront} \n\t\t\t\t\t\tsetBack={setBack} \n\t\t\t\t\t\tsetDone={setDone}\n\t\t\t\t\t/>\n\t\t\t\t\t{welcomed ? null : <GetStartedOverlay handleWelcomed={handleWelcomed} author={'quizMakerhasaverylongname'}/>}\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<StyledLoader>\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t<StyledPara>Loading...</StyledPara>\n\t\t\t\t\t</StyledLoader>\n\t\t\t\t</>\n\t\t\t);\n\t\t\t// console.log(result.data)\n\t\t\t// return (\n\t\t\t// \t<p>quiz done</p>\n\t\t\t// );\n\t\t};\n\t}else{\n\t\tsetTimeout(() => setShowResult(true),1500);\n\t\tif (quizResult === null || !showResult){\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<StyledLoader>\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t<StyledPara>Thank you for taking the quiz!</StyledPara>\n\t\t\t\t\t\t<StyledPara>Loading quiz results...</StyledPara>\n\t\t\t\t\t</StyledLoader>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\tif (quizResult.data !== null) {\n\t\t\t\treturn <QuizResult result={quizResult}/>\n\t\t\t}\n\t\t}\n\t}\n\t\n};\n\nexport default QuizContoller;\n"]},"metadata":{},"sourceType":"module"}