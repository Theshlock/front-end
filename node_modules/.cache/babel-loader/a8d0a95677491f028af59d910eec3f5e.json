{"ast":null,"code":"import _slicedToArray from\"/home/sam/Documents/mern-app/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/sam/Documents/mern-app/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useEffect,useState}from'react';import Quiz from'./Quiz';import Loader from'../../Loader/Loader';import styled from'styled-components';import theme from'../../Theme/theme';import GetStartedOverlay from'../../getStartedOverlay/GetStartedOverlay';import QuizResult from'./QuizResult';// import mockQuizData from '../../../data/mockQuizData';\n// import result from '../../../data/mockQuizResult';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledPara=styled.p(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\tmargin-top: 24px;\\n\\tfont-weight: bold;\\n\\ttext-align: center;\\n\"])));var StyledLoader=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n\\twidth: 100vw;\\n\\theight: 100vh;\\n\\tbackground-color: \",\";\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\"])),theme.color.background.primary);var quizResultWrapper=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\"])));var QuizContoller=function QuizContoller(props){var quizId=props.quizId.match.params.quizId;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),quizInfo=_useState2[0],getQuizInfo=_useState2[1];useEffect(function(){fetch('http://localhost:4000//api/quiz/'+quizId).then(function(response){return response.json();}).then(function(data){console.log(data);getQuizInfo(data);}).catch(function(error){console.error('Error:',error);});},[]);var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),frontPair=_useState4[0],setFront=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),backPair=_useState6[0],setBack=_useState6[1];useEffect(function(){fetch('http://localhost:4000//api/quiz-matchup/'+quizId).then(function(response){return response.json();}).then(function(data){// console.log(data);\nsetFront(data);}).catch(function(error){console.error('Error:',error);});},[]);useEffect(function(){fetch('http://localhost:4000//api/quiz-matchup/'+quizId).then(function(response){return response.json();}).then(function(data){// console.log(data);\nsetBack(data);}).catch(function(error){console.error('Error:',error);});},[]);var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),welcomed=_useState8[0],setWelcomed=_useState8[1];var handleWelcomed=function handleWelcomed(){setWelcomed(true);};var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),quizDone=_useState10[0],setDone=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),quizResult=_useState12[0],getQuizResult=_useState12[1];useEffect(function(){fetch('http://localhost:4000//api/quiz-results/'+quizId).then(function(response){return response.json();}).then(function(data){// console.log(data);\ngetQuizResult(data);}).catch(function(error){console.error('Error:',error);});},[quizDone]);var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showResult=_useState14[0],setShowResult=_useState14[1];if(!quizDone){if(quizInfo!==null&&frontPair!==null&&backPair!==null){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Quiz,{quizInfo:quizInfo,frontPair:frontPair,backPair:backPair,setFront:setFront,setBack:setBack,setDone:setDone}),welcomed?null:/*#__PURE__*/_jsx(GetStartedOverlay,{handleWelcomed:handleWelcomed,author:'quizMakerhasaverylongname'})]});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(StyledLoader,{children:[/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(StyledPara,{children:\"Loading...\"})]})});// console.log(result.data)\n// return (\n// \t<p>quiz done</p>\n// );\n};}else{setTimeout(function(){return setShowResult(true);},1500);if(quizResult===null||!showResult){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(StyledLoader,{children:[/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(StyledPara,{children:\"Thank you for taking the quiz!\"}),/*#__PURE__*/_jsx(StyledPara,{children:\"Loading quiz results...\"})]})});}else{if(quizResult.data!==null){return/*#__PURE__*/_jsx(QuizResult,{result:quizResult});}}}};export default QuizContoller;","map":{"version":3,"sources":["/home/sam/Documents/mern-app/front-end/src/components/pages/Quiz/QuizContoller.js"],"names":["React","useEffect","useState","Quiz","Loader","styled","theme","GetStartedOverlay","QuizResult","StyledPara","p","StyledLoader","div","color","background","primary","quizResultWrapper","QuizContoller","props","quizId","match","params","quizInfo","getQuizInfo","fetch","then","response","json","data","console","log","catch","error","frontPair","setFront","backPair","setBack","welcomed","setWelcomed","handleWelcomed","quizDone","setDone","quizResult","getQuizResult","showResult","setShowResult","setTimeout"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Quiz from './Quiz';\nimport Loader from '../../Loader/Loader';\nimport styled from 'styled-components';\nimport theme from '../../Theme/theme';\nimport GetStartedOverlay from '../../getStartedOverlay/GetStartedOverlay';\nimport QuizResult from './QuizResult';\n// import mockQuizData from '../../../data/mockQuizData';\n// import result from '../../../data/mockQuizResult';\n\nconst StyledPara = styled.p`\n\tmargin-top: 24px;\n\tfont-weight: bold;\n\ttext-align: center;\n`;\n\nconst StyledLoader = styled.div`\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground-color: ${theme.color.background.primary};\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n`;\n\nconst quizResultWrapper = styled.div`\n\tdisplay: flex;\n`;\n\nconst QuizContoller = (props) => {\n\tconst quizId = props.quizId.match.params.quizId;\n\tconst [quizInfo, getQuizInfo] = useState(null);\n\tuseEffect(() => {\n\t\tfetch('http://localhost:4000//api/quiz/' + quizId)\n\t      .then(response => response.json())\n\t      .then(data => {\n\t\t\tconsole.log(data);\n\t\t\tgetQuizInfo(data);\n\t      })\n\t      .catch((error) => {\n\t        console.error('Error:', error);\n\t      });\n\t}, []);\n\n\tconst [frontPair, setFront] = useState(null);\n\tconst [backPair, setBack] = useState(null);\n\tuseEffect(() => {\n\t\tfetch('http://localhost:4000//api/quiz-matchup/' + quizId)\n\t      .then(response => response.json())\n\t      .then(data => {\n\t\t\t// console.log(data);\n\t\t\tsetFront(data);\n\t      })\n\t      .catch((error) => {\n\t        console.error('Error:', error);\n\t      });\n\t}, []);\n\n\tuseEffect(() => {\n\t\tfetch('http://localhost:4000//api/quiz-matchup/' + quizId)\n\t      .then(response => response.json())\n\t      .then(data => {\n\t\t\t// console.log(data);\n\t\t\tsetBack(data);\n\t      })\n\t      .catch((error) => {\n\t        console.error('Error:', error);\n\t      });\n\t}, []);\n\n\tconst [welcomed, setWelcomed] = useState(false);\n\tconst handleWelcomed = () => {\n\t\tsetWelcomed(true);\n\t}\n\n\tconst [quizDone, setDone] = useState(false);\n\tconst [quizResult, getQuizResult] = useState(null);\n\n\tuseEffect(() => {\n\t\tfetch('http://localhost:4000//api/quiz-results/' + quizId)\n\t      .then(response => response.json())\n\t      .then(data => {\n\t\t\t// console.log(data);\n\t\t\tgetQuizResult(data);\n\t      })\n\t      .catch((error) => {\n\t        console.error('Error:', error);\n\t      });\n\t}, [quizDone]);\n\n\tconst [showResult, setShowResult] = useState(false);\n\n\n\tif (!quizDone) {\n\t\tif (quizInfo !== null && frontPair !== null && backPair !== null) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Quiz \n\t\t\t\t\t\tquizInfo={quizInfo} \n\t\t\t\t\t\tfrontPair={frontPair} \n\t\t\t\t\t\tbackPair={backPair} \n\t\t\t\t\t\tsetFront={setFront} \n\t\t\t\t\t\tsetBack={setBack} \n\t\t\t\t\t\tsetDone={setDone}\n\t\t\t\t\t/>\n\t\t\t\t\t{welcomed ? null : <GetStartedOverlay handleWelcomed={handleWelcomed} author={'quizMakerhasaverylongname'}/>}\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<StyledLoader>\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t<StyledPara>Loading...</StyledPara>\n\t\t\t\t\t</StyledLoader>\n\t\t\t\t</>\n\t\t\t);\n\t\t\t// console.log(result.data)\n\t\t\t// return (\n\t\t\t// \t<p>quiz done</p>\n\t\t\t// );\n\t\t};\n\t}else{\n\t\tsetTimeout(() => setShowResult(true),1500);\n\t\tif (quizResult === null || !showResult){\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<StyledLoader>\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t\t<StyledPara>Thank you for taking the quiz!</StyledPara>\n\t\t\t\t\t\t<StyledPara>Loading quiz results...</StyledPara>\n\t\t\t\t\t</StyledLoader>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\tif (quizResult.data !== null) {\n\t\t\t\treturn <QuizResult result={quizResult}/>\n\t\t\t}\n\t\t}\n\t}\n\t\n};\n\nexport default QuizContoller;\n"]},"metadata":{},"sourceType":"module"}